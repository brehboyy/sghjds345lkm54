<!--
  Generated template for the MagasinPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar>	
	<ion-item-divider class="hearderMag">
			<ion-icon item-left name="custom-back" (click)="close()"></ion-icon>
			<ion-searchbar (ionInput) = "getItems($event)"></ion-searchbar>
	</ion-item-divider >
  </ion-navbar>
</ion-header>

<ion-content class="ion-content">
	<!--<ion-row class="scrollmenu">	
		<ion-icon class="custom-carrot" ></ion-icon>
		<ion-icon class="custom-gluten" ></ion-icon>
		<ion-icon class="custom-fat" ></ion-icon>
		<ion-icon class="custom-milk" ></ion-icon>
		<ion-icon class="custom-fish"></ion-icon>
	</ion-row>-->
	<ion-row class="scrollmenu">
			<ion-icon *ngFor = "let categorie of categories" (click)="afficheIng(categorie.CAT_Identifier)" [ngClass]="id_cat == categorie.CAT_Identifier ? 'activeCat': ''" name="custom-{{categorie.CAT_Identifier}}" color='light'></ion-icon> 
	</ion-row>

	<ion-grid class="col-sm-9">
		<ion-row>
			<ng-container *ngIf="displayCat">
				<ion-col col-4 *ngFor="let ingredient of ingredients | filter : 'MI_CategorieIdentifier' : id_cat">
					<!--<ion-card [ngClass]="checked(ingredient.checked) ? 'carte2' : 'carte'" (click)="checkerBox(ingredient)">
						<img src="assets/imgs/{{ingredient.MI_IDINGREDIENT}}.jpg"/>
						<div>{{ingredient.MI_NOM}}</div>
						<div *ngIf="checked(ingredient.checked)" class="card-subtitle"><ion-checkbox color="secondary" [(ngModel)]="ingredient.checked" checked="ingredient.checked"></ion-checkbox></div>
					</ion-card>-->
					<ion-card [ngClass]="checked(ingredient.checked) ? 'carte' : 'carte2'" (click)="checkerBox(ingredient)">
						<img src="http://mealcheck.eu/assets/imgs/{{ingredient.MI_Identifier}}.jpg"/>
						<!--<img src="http://mealcheck.eu/assets/imgs/17.jpg"/>-->
						<div *ngIf="checked(ingredient.checked)" [ngClass]="ingredient.MI_Name.length < 8 ? 'card-title' : 'card-title2' ">{{ingredient.MI_Name}}</div>
						<div *ngIf="!checked(ingredient.checked)" class="card-subtitle"><ion-checkbox color="secondary" [(ngModel)]="ingredient.checked" checked="ingredient.checked"></ion-checkbox></div>
					</ion-card>
				</ion-col>
			</ng-container>
			<ng-container *ngIf="!displayCat">
				<ion-col col-4 *ngFor="let ingredient of ingredients">
					<!--<ion-card [ngClass]="checked(ingredient.checked) ? 'carte2' : 'carte'" (click)="checkerBox(ingredient)">
						<img src="assets/imgs/{{ingredient.MI_IDINGREDIENT}}.jpg"/>
						<div>{{ingredient.MI_NOM}}</div>
						<div *ngIf="checked(ingredient.checked)" class="card-subtitle"><ion-checkbox color="secondary" [(ngModel)]="ingredient.checked" checked="ingredient.checked"></ion-checkbox></div>
					</ion-card>-->
					<ion-card [ngClass]="checked(ingredient.checked) ? 'carte' : 'carte2'" (click)="checkerBox(ingredient)">
						<img src="http://mealcheck.eu/assets/imgs/{{ingredient.MI_Identifier}}.jpg"/>
						<!--<img src="http://mealcheck.eu/assets/imgs/17.jpg"/>-->
						<div *ngIf="checked(ingredient.checked)" [ngClass]="ingredient.MI_Name.length < 8 ? 'card-title' : 'card-title2' ">{{ingredient.MI_Name}}</div>
						<div *ngIf="!checked(ingredient.checked)" class="card-subtitle"><ion-checkbox color="secondary" [(ngModel)]="ingredient.checked" checked="ingredient.checked"></ion-checkbox></div>
					</ion-card>
				</ion-col>
			</ng-container>
		</ion-row>
	</ion-grid>
		<ion-fab bottom right (click)=addIngredient()>
		<button ion-fab class="fab-class" >
			<ion-icon name="custom-add"></ion-icon>
		</button>
	</ion-fab>
</ion-content>
